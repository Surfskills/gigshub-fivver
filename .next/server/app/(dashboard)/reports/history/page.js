(()=>{var e={};e.id=47,e.ids=[47],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},6005:e=>{"use strict";e.exports=require("node:crypto")},54165:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>l});var r=s(50482),a=s(69108),i=s(62563),n=s.n(i),o=s(68300),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);s.d(t,d);let l=["",{children:["(dashboard)",{children:["reports",{children:["history",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,51702)),"/Users/fredosege/Desktop/React_projects/gigshub-fivver/src/app/(dashboard)/reports/history/page.tsx"]}]},{loading:[()=>Promise.resolve().then(s.bind(s,56440)),"/Users/fredosege/Desktop/React_projects/gigshub-fivver/src/app/(dashboard)/reports/history/loading.tsx"]}]},{loading:[()=>Promise.resolve().then(s.bind(s,17228)),"/Users/fredosege/Desktop/React_projects/gigshub-fivver/src/app/(dashboard)/reports/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,95021)),"/Users/fredosege/Desktop/React_projects/gigshub-fivver/src/app/(dashboard)/layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,98222)),"/Users/fredosege/Desktop/React_projects/gigshub-fivver/src/app/(dashboard)/loading.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,21342)),"/Users/fredosege/Desktop/React_projects/gigshub-fivver/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/fredosege/Desktop/React_projects/gigshub-fivver/src/app/(dashboard)/reports/history/page.tsx"],x="/(dashboard)/reports/history/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(dashboard)/reports/history/page",pathname:"/reports/history",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},96637:(e,t,s)=>{let r={"016b125e3c9141ee7520a5d6601759e458e85013":()=>Promise.resolve().then(s.bind(s,78646)).then(e=>e.invalidateCacheAction)};async function a(e,...t){return(await r[e]()).apply(null,t)}e.exports={"016b125e3c9141ee7520a5d6601759e458e85013":a.bind(null,"016b125e3c9141ee7520a5d6601759e458e85013")}},54683:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,61476,23))},16274:(e,t,s)=>{"use strict";s.d(t,{default:()=>a.a});var r=s(48026),a=s.n(r)},48026:(e,t,s)=>{"use strict";let{createProxy:r}=s(86843);e.exports=r("/Users/fredosege/Desktop/React_projects/gigshub-fivver/node_modules/next/dist/client/link.js")},56440:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(25036);function a(){return(0,r.jsxs)("div",{className:"animate-pulse space-y-6",children:[r.jsx("div",{className:"h-8 w-48 rounded bg-gray-200"}),r.jsx("div",{className:"h-24 rounded-lg border bg-white"}),r.jsx("div",{className:"h-96 rounded-lg border bg-white"})]})}},51702:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>d});var r=s(25036),a=s(16274),i=s(81494),n=s(63235),o=s(33041);let d={title:"Reports History | Freelance Manager",description:"View past shift reports."};async function l({searchParams:e}){let t=await e,s=t.accountId||void 0,d=t.startDate||new Date(Date.now()-2592e6).toISOString().split("T")[0],l=t.endDate||new Date().toISOString().split("T")[0],c=new Date(d),x=new Date(l);x.setHours(23,59,59,999);let p=await i.db.shiftReport.findMany({where:{...s&&{accountId:s},reportDate:{gte:c,lte:x}},include:{account:{select:{id:!0,platform:!0,username:!0,accountLevel:!0}},reportedBy:{select:{name:!0}}},orderBy:[{reportDate:"desc"},{shift:"asc"}]}),m=await i.db.account.findMany({where:{status:"active"},select:{id:!0,platform:!0,username:!0},orderBy:{platform:"asc"}}),u=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e),h=e=>null!=e?e.toFixed(2):"—";return(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("header",{children:(0,r.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-xl font-bold text-gray-900 sm:text-2xl",children:"Reports History"}),(0,r.jsxs)("p",{className:"mt-1 text-sm text-gray-600",children:[d," to ",l,s&&` • Filtered by account`]})]}),r.jsx(a.default,{href:"/reports",prefetch:!0,className:"inline-flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2.5 text-sm font-medium text-white hover:bg-blue-500",children:"Submit Report"})]})}),r.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-4",children:(0,r.jsxs)("form",{action:"/reports/history",method:"get",className:"flex flex-wrap items-end gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"accountId",className:"block text-xs font-medium text-gray-600 mb-1",children:"Account"}),(0,r.jsxs)("select",{id:"accountId",name:"accountId",defaultValue:s||"",className:"rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200",children:[r.jsx("option",{value:"",children:"All accounts"}),m.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.platform," – ",e.username]},e.id))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"startDate",className:"block text-xs font-medium text-gray-600 mb-1",children:"From"}),r.jsx("input",{type:"date",id:"startDate",name:"startDate",defaultValue:d,className:"rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"endDate",className:"block text-xs font-medium text-gray-600 mb-1",children:"To"}),r.jsx("input",{type:"date",id:"endDate",name:"endDate",defaultValue:l,className:"rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200"})]}),r.jsx("button",{type:"submit",className:"rounded-lg bg-gray-900 px-4 py-2.5 text-sm font-medium text-white hover:bg-gray-800",children:"Apply"})]})}),r.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:0===p.length?(0,r.jsxs)("div",{className:"p-12 text-center text-gray-500",children:[r.jsx("p",{className:"font-medium",children:"No reports found"}),r.jsx("p",{className:"mt-1 text-sm",children:"Try adjusting the date range or account filter."})]}):r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600",children:"Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600",children:"Shift"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600",children:"Account"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600",children:"Level"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-600",children:"Completed"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-600",children:"Pending"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-600",children:"Available"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-600",children:"Rating"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600",children:"Reported by"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:p.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-sm text-gray-900",children:(0,n.WU)(new Date(e.reportDate),"MMM d, yyyy")}),r.jsx("td",{className:"whitespace-nowrap px-4 py-3",children:r.jsx("span",{className:`inline-flex rounded px-2 py-0.5 text-xs font-medium ${"AM"===e.shift?"bg-amber-100 text-amber-800":"bg-indigo-100 text-indigo-800"}`,children:e.shift})}),(0,r.jsxs)("td",{className:"whitespace-nowrap px-4 py-3 text-sm text-gray-900",children:[e.account.platform," – ",e.account.username]}),r.jsx("td",{className:"whitespace-nowrap px-4 py-3",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${(0,o.pr)(e.account.accountLevel)}`,children:(0,o.Qh)(e.account.accountLevel)})}),r.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-right text-sm font-medium text-gray-900",children:e.ordersCompleted}),r.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-right text-sm text-orange-600",children:e.pendingOrders}),r.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-right text-sm font-medium text-green-600",children:u(Number(e.availableBalance))}),r.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-right text-sm text-gray-600",children:h(null!=e.rating?Number(e.rating):null)}),r.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-sm text-gray-600",children:e.reportedBy.name}),r.jsx("td",{className:"whitespace-nowrap px-4 py-3",children:r.jsx(a.default,{href:`/accounts/${e.accountId}/reports/${e.id}/edit`,prefetch:!0,className:"text-sm font-medium text-blue-600 hover:text-blue-800",children:"Edit"})})]},e.id))})]})})})]})}},17228:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(25036);function a(){return(0,r.jsxs)("div",{className:"animate-pulse space-y-6",children:[r.jsx("div",{className:"h-8 w-56 rounded bg-gray-200"}),r.jsx("div",{className:"space-y-4",children:[1,2].map(e=>r.jsx("div",{className:"h-48 rounded-lg border bg-white"},e))})]})}},33041:(e,t,s)=>{"use strict";s.d(t,{Qh:()=>i,pr:()=>n});let r={starter:"Starter",level1:"Level 1",level2:"Level 2",proRated:"Pro Rated",fivverVetted:"Fivver Vetted"},a={starter:"bg-gray-100 text-gray-800",level1:"bg-blue-100 text-blue-800",level2:"bg-indigo-100 text-indigo-800",proRated:"bg-amber-100 text-amber-800",fivverVetted:"bg-emerald-100 text-emerald-800"};function i(e){return r[e]??e}function n(e){return a[e]??"bg-gray-100 text-gray-800"}}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[929,568,506,235,755],()=>s(54165));module.exports=r})();